<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>임시저 목록</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<style type="text/css">
	* {
		padding: 0;
		margin: 0;
	}

	article{
		width: 80%;
		margin: auto;
	}
	.btn{
		float: right;
		margin-top: 30px;
		margin-bottom: 10px;
		margin-right: 10px;
	}
	.searchContainer{
		display: flex;
		margin-left: 25%;
	}
	.select{
		font-size: 14pt;
		font-weight: bold;
	}
	.card{
		margin-bottom: 20px;
		max-height: 350px;
	}
	img{
		height: 200px;
	}
	
	/*페이징*/	
	#page_container{
		width: 80%;
		margin: auto;
		margin-bottom: 20px;
	}

	#page{
		width: 10%;
		margin: auto;
		padding-top: 10px;
		padding-bottom: 10px;
	}

	a{
		text-decoration: none;
		color: black;
		font-size: large;
	}
	
	#orderColumnContainer{
		margin-left: 300px;
	}

</style>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script type="text/javascript">
	
</script>
</head>
<body>
	<header>
	
	</header>
	
	<h1>임시저장 목록</h1>
	<hr>
	<!-- 관리자일 때, 등록 버튼 보이게 -->
	<div th:if="${grade} == 'admin'">
		<a th:text="등록" th:href="@{|/trip/tripInsert|}"></a>
	</div>
	<hr>
	<article style="margin-top: 10px;">
		<div class="searchContainer" style="height: auto; width: 100%; float: right; margin-bottom: 30px;">
			<div style=" width: 100%; margin: auto;">
				<span th:each="k:${koreaList}" style="width: 100%; height: auto;">
					<button th:text="${k.region}" th:value="${k.code}" 
						th:onclick="|location.href='@{|/trip/tripList?region=${k.code}|}'|"></button>
				</span>
				<hr>
				<svg xmlns="http://www.w3.org/2000/svg" width="25" height="30" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16" style="float:left;">
				  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
				</svg>
				<form method="get" action="/trip/tripList">
					<input type="text" name="keyword" class="form-control" style="float: left; width: 500px; height: 35px; margin-left:10px; border: 0 0 2px 0 solid;">
					<input type="submit" value="검색" class="w-20 btn btn-secondary btn-lg" style="float: left; margin: 0px; height: 35px; width: 80px; text-align:right;">
				</form>
				<!--  목록 정렬 -->
				<span id="orderColumnContainer">
					<a th:text="업데이트순" th:href="@{|/trip/tripListAdmin?orderColumn=writedate|}"></a>&nbsp;
					<a th:text="조회순" th:href="@{|/trip/tripListAdmin?orderColumn=hit|}"></a>&nbsp;
					<a th:text="좋아요순" th:href="@{|/trip/tripListAdmin?orderColumn=trip_liked|}"></a>
				</span>
			</div>
		</div>
		<hr>
		<br>
		<!-- 관리자일 때, 임시저장 목록 보이게 -->
		<div th:if="${grade} == 'admin'">
			<a th:text="전체" th:href="@{|/trip/tripList|}"></a>
			<!-- <a th:text="임시저장" th:href="@{|/trip/tripListAdmin|}"></a> -->
		</div>
		<br>
		<!-- <div class="card" style="width: 18rem;" th:each="trip:${tripList}">
			<img th:src="@{|/images/${trip.trip_img}|}" class="card-img-top" alt="...">
			<div class="card-body">
				<h5 class="card-title" th:text="${trip.trip_title}">Card title</h5>
				<p class="card-text" th:text="${trip.region}">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				<a href="#" class="btn btn-primary">Go somewhere</a>
			</div>
		</div> -->
		<!-- 카드로 들어가는 정보 -->
		<div class="container ">
			<div class="row row-cols-md-4">
				<div class="col-3" th:each="trip:${tripList}">
					<div class="card"
						style="width: 17rem; border: 0.75px solid #eaeaea; box-shadow: 3px 3px 4px rgba(26, 26, 26, 0.1);">
						<img th:src="@{|/images/${trip.trip_img}|}" class="card-img-top" alt="...">
						<div class="card-body">
							<h5 class="card-title" th:text="${trip.trip_title}"></h5>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 페이징 -->
		<div id="page_container">
			<div id="page">
				<span th:if="${startPage} > 1 ">
					<a th:href="@{|/trip/tripList?region=${region}&orderColumn=${orderColumn}&pageNum=${startPage-1}|}" th:text="|<|"></a>
				</span>
				<span th:each="page : ${#numbers.sequence(startPage,endPage)}" th:if="${keyword != null } ">
					<a th:text="${page}" th:href="@{|/trip/tripList?keyword=${keyword}&amp;region=${region}&orderColumn=${orderColumn}&pageNum=${page}|}"></a>
				</span>
				<span th:each="page : ${#numbers.sequence(startPage,endPage)}" th:if="${keyword == null} ">
					<a th:text="${page}" th:href="@{|/trip/tripList?region=${region}&orderColumn=${orderColumn}&pageNum=${page}|}"></a>
				</span>
				<span th:if="${endPage} < ${totalPage }">
					<a id="page_num" th:href="@{|/trip/tripList?region=${region}&orderColumn=${orderColumn}&pageNum=${endPage+1}|}" th:text="|>|"></a>
				</span>
			</div>
		</div>
	</article>
	<footer>
	</footer> 
</body>
</html>